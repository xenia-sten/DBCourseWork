{"ast":null,"code":"import UserService from \"@/services/user.service\";\nimport MyButton from \"./UI/MyButton.vue\";\nimport MyInput from \"./UI/MyInput.vue\";\nexport default {\n  components: {\n    MyButton,\n    MyInput\n  },\n  data() {\n    return {\n      client: {\n        company_id: \"\",\n        email: \"\",\n        phone_number: \"\",\n        name: \"\",\n        description: ''\n      },\n      companyByUser: []\n    };\n  },\n  methods: {\n    createClient() {\n      this.$emit(\"create\", this.client);\n      this.client = {\n        company_id: \"\",\n        email: \"\",\n        phone_number: \"\",\n        name: \"\",\n        description: ''\n      };\n    }\n  },\n  computed: {\n    currentUser() {\n      return this.$store.state.auth.user;\n    }\n  },\n  mounted() {\n    UserService.getCompaniesByUser(this.currentUser.id).then(response => {\n      this.companyByUser = response.data;\n      console.log(this.companyByUser);\n    }, error => {\n      this.companyByUser = error.response && error.response.data && error.response.data.message || error.message || error.toString();\n    });\n  }\n};","map":{"version":3,"names":["UserService","MyButton","MyInput","components","data","client","company_id","email","phone_number","name","description","companyByUser","methods","createClient","$emit","computed","currentUser","$store","state","auth","user","mounted","getCompaniesByUser","id","then","response","console","log","error","message","toString"],"sources":["C:\\Users\\Admin\\Desktop\\X\\SSTU\\6 семак\\БД\\DBCourseWork\\CW-front\\src\\components\\ClientForm.vue"],"sourcesContent":["<template>\r\n  <form @submit.prevent>\r\n    <h4>Создание клиента</h4>\r\n    <select v-model=\"client.company_id\">\r\n      <option disabled value=\"\">Выберите компанию</option>\r\n      <option\r\n        v-for=\"company in companyByUser\"\r\n        :key=\"company.id\"\r\n        :value=\"company.id\"\r\n      >\r\n        {{ company.name }}\r\n      </option>\r\n    </select>\r\n    <my-input v-model=\"client.name\" type=\"text\" placeholder=\"Имя\" />\r\n    <my-input v-model=\"client.email\" type=\"text\" placeholder=\"Email\" />\r\n    <my-input v-model=\"client.phone_number\" type=\"text\" placeholder=\"Номер телефона\" />\r\n    <my-input v-model=\"client.description\" type=\"text\" placeholder=\"Описание\" />\r\n    <my-button\r\n      style=\"align-self: flex-end; margin-top: 15px\"\r\n      @click=\"createClient\"\r\n    >\r\n      Создать\r\n    </my-button>\r\n  </form>\r\n</template>\r\n\r\n<script>\r\nimport UserService from \"@/services/user.service\";\r\nimport MyButton from \"./UI/MyButton.vue\";\r\nimport MyInput from \"./UI/MyInput.vue\";\r\n\r\nexport default {\r\n  components: { MyButton, MyInput},\r\n  data() {\r\n    return {\r\n      client: {\r\n        company_id: \"\",\r\n        email: \"\",\r\n        phone_number: \"\",\r\n        name: \"\",\r\n        description: '',\r\n      },\r\n      companyByUser: [],\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    createClient() {\r\n      this.$emit(\"create\", this.client);\r\n      this.client = {\r\n        company_id: \"\",\r\n        email: \"\",\r\n        phone_number: \"\",\r\n        name: \"\",\r\n        description: '',\r\n      };\r\n    },\r\n  },\r\n\r\n  computed: {\r\n    currentUser() {\r\n      return this.$store.state.auth.user;\r\n    },\r\n  },\r\n\r\n  mounted() {\r\n    UserService.getCompaniesByUser(this.currentUser.id).then(\r\n      (response) => {\r\n        this.companyByUser = response.data;\r\n        console.log(this.companyByUser);\r\n      },\r\n      (error) => {\r\n        this.companyByUser =\r\n          (error.response &&\r\n            error.response.data &&\r\n            error.response.data.message) ||\r\n          error.message ||\r\n          error.toString();\r\n      }\r\n    );\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>"],"mappings":"AA2BA,OAAOA,WAAU,MAAO,yBAAyB;AACjD,OAAOC,QAAO,MAAO,mBAAmB;AACxC,OAAOC,OAAM,MAAO,kBAAkB;AAEtC,eAAe;EACbC,UAAU,EAAE;IAAEF,QAAQ;IAAEC;EAAO,CAAC;EAChCE,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,MAAM,EAAE;QACNC,UAAU,EAAE,EAAE;QACdC,KAAK,EAAE,EAAE;QACTC,YAAY,EAAE,EAAE;QAChBC,IAAI,EAAE,EAAE;QACRC,WAAW,EAAE;MACf,CAAC;MACDC,aAAa,EAAE;IACjB,CAAC;EACH,CAAC;EAEDC,OAAO,EAAE;IACPC,YAAYA,CAAA,EAAG;MACb,IAAI,CAACC,KAAK,CAAC,QAAQ,EAAE,IAAI,CAACT,MAAM,CAAC;MACjC,IAAI,CAACA,MAAK,GAAI;QACZC,UAAU,EAAE,EAAE;QACdC,KAAK,EAAE,EAAE;QACTC,YAAY,EAAE,EAAE;QAChBC,IAAI,EAAE,EAAE;QACRC,WAAW,EAAE;MACf,CAAC;IACH;EACF,CAAC;EAEDK,QAAQ,EAAE;IACRC,WAAWA,CAAA,EAAG;MACZ,OAAO,IAAI,CAACC,MAAM,CAACC,KAAK,CAACC,IAAI,CAACC,IAAI;IACpC;EACF,CAAC;EAEDC,OAAOA,CAAA,EAAG;IACRrB,WAAW,CAACsB,kBAAkB,CAAC,IAAI,CAACN,WAAW,CAACO,EAAE,CAAC,CAACC,IAAI,CACrDC,QAAQ,IAAK;MACZ,IAAI,CAACd,aAAY,GAAIc,QAAQ,CAACrB,IAAI;MAClCsB,OAAO,CAACC,GAAG,CAAC,IAAI,CAAChB,aAAa,CAAC;IACjC,CAAC,EACAiB,KAAK,IAAK;MACT,IAAI,CAACjB,aAAY,GACdiB,KAAK,CAACH,QAAO,IACZG,KAAK,CAACH,QAAQ,CAACrB,IAAG,IAClBwB,KAAK,CAACH,QAAQ,CAACrB,IAAI,CAACyB,OAAO,IAC7BD,KAAK,CAACC,OAAM,IACZD,KAAK,CAACE,QAAQ,CAAC,CAAC;IACpB,CACF,CAAC;EACH;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}