{"ast":null,"code":"import userService from \"@/services/user.service\";\nimport MyButton from \"../UI/MyButton.vue\";\nimport MyDialog from \"../UI/MyDialog.vue\";\nimport JobCreateForm from '../JobCreateForm.vue';\nimport jobsServices from \"@/services/jobs.services\";\nexport default {\n  components: {\n    MyButton,\n    MyDialog,\n    JobCreateForm\n  },\n  // eslint-disable-next-line vue/multi-word-component-names\n  name: \"Services\",\n  data() {\n    return {\n      visibleCreateJob: false,\n      jobs: [],\n      currentJob: null,\n      currentIdJob: -1\n    };\n  },\n  methods: {\n    getJobsByUser() {\n      userService.getJobsByUser(this.currentUser.id).then(response => {\n        this.jobs = response.data;\n      }).catch(e => console.log(e));\n    },\n    createJob(job) {\n      var data = {\n        user\n      };\n      jobsServices.addJob();\n    },\n    setActiveJob(job, currentIdJob) {\n      this.currentJob = job;\n      this.currentId = job ? currentIdJob : -1;\n    },\n    showDialogCreateJob() {\n      this.visibleCreateJob = true;\n    }\n  },\n  computed: {\n    currentUser() {\n      return this.$store.state.auth.user;\n    }\n  },\n  mounted() {\n    this.getJobsByUser();\n  }\n};","map":{"version":3,"names":["userService","MyButton","MyDialog","JobCreateForm","jobsServices","components","name","data","visibleCreateJob","jobs","currentJob","currentIdJob","methods","getJobsByUser","currentUser","id","then","response","catch","e","console","log","createJob","job","user","addJob","setActiveJob","currentId","showDialogCreateJob","computed","$store","state","auth","mounted"],"sources":["C:\\Users\\Admin\\Desktop\\X\\SSTU\\6 семак\\БД\\DBCourseWork\\CW-front\\src\\components\\pages\\ServicesPage.vue"],"sourcesContent":["<template>\r\n  <div class=\"list row\">\r\n    <div class=\"col-md-3\">\r\n      <br />\r\n      <h4>Специализация:</h4>\r\n      <my-button id=\"btn-add-job\" @click=\"showDialogCreateJob\">\r\n        Создать\r\n      </my-button>\r\n      <!-- eslint-disable -->\r\n      <my-dialog v-model:show=\"visibleCreateJob\">\r\n        <job-create-form @create=\"createJob\" />\r\n      </my-dialog>\r\n      <ul class=\"job-list list-group\" v-if=\"this.jobs.length > 0\">\r\n        <li\r\n          class=\"jobItem list-group-item\"\r\n          :class=\"{ active: id == currentIdJob }\"\r\n          v-for=\"(job, id) in jobs\"\r\n          :key=\"job.id\"\r\n          @click=\"setActiveJob(job, currentIdJob)\"\r\n        >\r\n          {{ job.name }}\r\n          {{ job.description }}\r\n          <button class=\"badge badge-warning\" @click=\"showEditJob\">Edit</button>\r\n        </li>\r\n      </ul>\r\n      <h5 v-else style=\"color: red\">Список специализаций пуст</h5>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport userService from \"@/services/user.service\";\r\nimport MyButton from \"../UI/MyButton.vue\";\r\nimport MyDialog from \"../UI/MyDialog.vue\";\r\nimport JobCreateForm from '../JobCreateForm.vue';\r\nimport jobsServices from \"@/services/jobs.services\";\r\n\r\nexport default {\r\n  components: { MyButton, MyDialog, JobCreateForm },\r\n  // eslint-disable-next-line vue/multi-word-component-names\r\n  name: \"Services\",\r\n  data() {\r\n    return {\r\n      visibleCreateJob: false,\r\n      jobs: [],\r\n      currentJob: null,\r\n      currentIdJob: -1,\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    getJobsByUser() {\r\n      userService\r\n        .getJobsByUser(this.currentUser.id)\r\n        .then((response) => {\r\n          this.jobs = response.data;\r\n        })\r\n        .catch((e) => console.log(e));\r\n    },\r\n\r\n    createJob(job){\r\n      var data = {\r\n        user\r\n      };\r\n      jobsServices.addJob()\r\n    },\r\n\r\n    setActiveJob(job, currentIdJob) {\r\n      this.currentJob = job;\r\n      this.currentId = job ? currentIdJob : -1;\r\n    },\r\n\r\n    showDialogCreateJob() {\r\n      this.visibleCreateJob = true;\r\n    },\r\n  },\r\n\r\n  computed: {\r\n    currentUser() {\r\n      return this.$store.state.auth.user;\r\n    },\r\n  },\r\n\r\n  mounted() {\r\n    this.getJobsByUser();\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.list {\r\n  text-align: left;\r\n  margin: auto;\r\n}\r\n.jobItem {\r\n  border: 2px solid teal;\r\n  border-radius: 5px;\r\n  display: flex;\r\n  align-items: flex-end;\r\n  flex-direction: column;\r\n}\r\n.lists {\r\n  display: flex;\r\n}\r\n.usList {\r\n  margin-top: 0px;\r\n}\r\n#btn-add-job {\r\n  margin-bottom: 15px;\r\n}\r\n</style>"],"mappings":"AA+BA,OAAOA,WAAU,MAAO,yBAAyB;AACjD,OAAOC,QAAO,MAAO,oBAAoB;AACzC,OAAOC,QAAO,MAAO,oBAAoB;AACzC,OAAOC,aAAY,MAAO,sBAAsB;AAChD,OAAOC,YAAW,MAAO,0BAA0B;AAEnD,eAAe;EACbC,UAAU,EAAE;IAAEJ,QAAQ;IAAEC,QAAQ;IAAEC;EAAc,CAAC;EACjD;EACAG,IAAI,EAAE,UAAU;EAChBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,gBAAgB,EAAE,KAAK;MACvBC,IAAI,EAAE,EAAE;MACRC,UAAU,EAAE,IAAI;MAChBC,YAAY,EAAE,CAAC;IACjB,CAAC;EACH,CAAC;EAEDC,OAAO,EAAE;IACPC,aAAaA,CAAA,EAAG;MACdb,WAAU,CACPa,aAAa,CAAC,IAAI,CAACC,WAAW,CAACC,EAAE,EACjCC,IAAI,CAAEC,QAAQ,IAAK;QAClB,IAAI,CAACR,IAAG,GAAIQ,QAAQ,CAACV,IAAI;MAC3B,CAAC,EACAW,KAAK,CAAEC,CAAC,IAAKC,OAAO,CAACC,GAAG,CAACF,CAAC,CAAC,CAAC;IACjC,CAAC;IAEDG,SAASA,CAACC,GAAG,EAAC;MACZ,IAAIhB,IAAG,GAAI;QACTiB;MACF,CAAC;MACDpB,YAAY,CAACqB,MAAM,CAAC;IACtB,CAAC;IAEDC,YAAYA,CAACH,GAAG,EAAEZ,YAAY,EAAE;MAC9B,IAAI,CAACD,UAAS,GAAIa,GAAG;MACrB,IAAI,CAACI,SAAQ,GAAIJ,GAAE,GAAIZ,YAAW,GAAI,CAAC,CAAC;IAC1C,CAAC;IAEDiB,mBAAmBA,CAAA,EAAG;MACpB,IAAI,CAACpB,gBAAe,GAAI,IAAI;IAC9B;EACF,CAAC;EAEDqB,QAAQ,EAAE;IACRf,WAAWA,CAAA,EAAG;MACZ,OAAO,IAAI,CAACgB,MAAM,CAACC,KAAK,CAACC,IAAI,CAACR,IAAI;IACpC;EACF,CAAC;EAEDS,OAAOA,CAAA,EAAG;IACR,IAAI,CAACpB,aAAa,CAAC,CAAC;EACtB;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}